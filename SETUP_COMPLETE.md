# ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è AI –º–æ–¥—É–ª–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. **Gemini AI** ‚úÖ
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ `ai/_env` ‚Üí `ai/app/.env`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ backend
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ —á–∞—Ç –∏ –∞–Ω–∞–ª–∏–∑ –ø–ª–∞–Ω–æ–≤
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç "–∏–∑ –∫–æ—Ä–æ–±–∫–∏" –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–µ–∫—Ç–∞

### 2. **CubiCasa API** ‚úÖ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤ `docker-compose.yml` –∫–∞–∫ —Å–µ—Ä–≤–∏—Å `cubicasa`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `start-local.sh`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø–æ—Ä—Ç 8001 (–Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å backend –Ω–∞ 8000)
- ‚úÖ Graceful fallback –µ—Å–ª–∏ Docker –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### 3. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** ‚úÖ
- ‚úÖ `start-local.sh` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ `stop.sh` - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –≤–∫–ª—é—á–∞—è CubiCasa –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- ‚úÖ `docker-compose.yml` - –ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫ —Å AI —Å–µ—Ä–≤–∏—Å–∞–º–∏

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
./start-local.sh
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è:**
- ‚úÖ Backend (–ø–æ—Ä—Ç 8000)
- ‚úÖ Frontend (–ø–æ—Ä—Ç 5173)
- ‚úÖ CubiCasa API (–ø–æ—Ä—Ç 8001, –µ—Å–ª–∏ Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- ‚úÖ Gemini AI (–Ω–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)

### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker Compose
```bash
docker-compose up --build
```

**–ó–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö:**
- ‚úÖ Backend
- ‚úÖ Frontend
- ‚úÖ CubiCasa API

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

### ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–ª–∞–Ω–æ–≤
**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `POST /api/v1/client/orders/{order_id}/plan/process-image`

–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–ª–∞–Ω–∞, –∏ –æ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ CubiCasa API:
```bash
curl -X POST "http://localhost:8000/api/v1/client/orders/{order_id}/plan/process-image" \
  -H "Authorization: Bearer {token}" \
  -F "file=@floorplan.png"
```

### ‚úÖ AI –ß–∞—Ç
**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `POST /api/v1/client/chats/{chat_id}/messages`

AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–∫–∞–∑–∞ –∏ –ø–ª–∞–Ω–∞.

### ‚úÖ AI –ê–Ω–∞–ª–∏–∑ –ø–ª–∞–Ω–æ–≤
**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ –ø–ª–∞–Ω–æ–≤

AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–ª–∞–Ω—ã –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —Ä–∏—Å–∫–æ–≤ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–æ—Ä–º–∞–º.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Backend
curl http://localhost:8000/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ CubiCasa API
curl http://localhost:8001/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Frontend
curl http://localhost:5173
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏–∑ `ai/_env`:
- `GEMINI_API_KEY` - ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω
- `GEMINI_MODEL` - ‚úÖ gemini-2.0-flash
- `CUBICASA_API_URL` - ‚úÖ http://localhost:8001 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- `CUBICASA_TIMEOUT` - ‚úÖ 300 —Å–µ–∫—É–Ω–¥

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—É—Å–∫–∞:

```
./start-local.sh
  ‚îú‚îÄ‚îÄ CubiCasa API (Docker, –ø–æ—Ä—Ç 8001) - –µ—Å–ª–∏ Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
  ‚îú‚îÄ‚îÄ Backend (FastAPI, –ø–æ—Ä—Ç 8000)
  ‚îî‚îÄ‚îÄ Frontend (Vite, –ø–æ—Ä—Ç 5173)
```

–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! üöÄ

